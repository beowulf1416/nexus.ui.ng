<div class="component component-country-selector-dialog">
    <mat-card class="card-country-selector-dialog" appearance="outlined">
        <mat-card-header>
            <mat-icon>countries</mat-icon>
            <mat-card-title mat-dialog-title>Country Selector</mat-card-title>
            <mat-card-subtitle>Select a country</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
            <mat-dialog-content>
                <div class="wrapper wrapper-form">
                    <form id="currency_selector_form" class="form-currency-selector" method="post" action="">
                        <div class="wrapper wrapper-filter">
                            <mat-form-field appearance="outline">
                                <mat-label>Search</mat-label>
                                <input type="search" id="filter" placeholder="Search" matInput [field]="component.form_country_selector.filter"/>
                                <button type="button" id="btn_search" title="Search" class="btn btn-search" (click)="search()" mat-icon-button matSuffix>
                                    <mat-icon>search</mat-icon>
                                </button>
                                <button type="button" id="btn_reset" title="Reset" class="btn btn-reset" (click)="reset()" mat-icon-button matSuffix>
                                    <mat-icon>closed_small</mat-icon>
                                </button>
                            </mat-form-field>
                        </div><!-- .wrapper-filter -->
                        <div class="wrapper wrapper-matches">
                            <table id="tbl_matches">
                                <caption>matches</caption>
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th>Name</th>
                                        <th title="2-character country code">Code (2)</th>
                                        <th title="3-character country code">Code (3)</th>
                                    </tr>
                                </thead>
                                <tfoot></tfoot>
                                <tbody>
                                    @for(c of component.form_country_selector.matches; track $index; let i = $index){
                                    <tr>
                                        <td>
                                            <button [id]="'btn_match_' + i" type="button" class="btn btn-select-country" mat-icon-button (click)="on_select_country(c().value())">
                                                <mat-icon>bookmark_add</mat-icon>
                                            </button>
                                        </td>
                                        <td>{{ c.name().value() }}</td>
                                        <td>{{ c.alpha2().value() }}</td>
                                        <td>{{ c.alpha3().value() }}</td>
                                    </tr>
                                    }
                                </tbody>
                            </table>
                        </div><!-- .wrapper -->
                        <div class="wrapper wrapper-selected">
                            <table id="tbl_selected">
                                <caption>selected</caption>
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th>Name</th>
                                        <th title="2-character country code">Code (2)</th>
                                        <th title="3-character country code">Code (3)</th>
                                    </tr>
                                </thead>
                                <tfoot></tfoot>
                                <tbody>
                                    @for(c of component.form_country_selector.selected; track $index; let i = $index){
                                    <tr>
                                        <td>
                                            <button type="button" [id]="'btn_selected_' + i" class="btn btn-deselect-country" mat-icon-button (click)="on_deselect_country(c().value())">
                                                <mat-icon>bookmark_remove</mat-icon>
                                            </button>
                                        </td>
                                        <td>{{ c.name().value() }}</td>
                                        <td>{{ c.alpha2().value() }}</td>
                                        <td>{{ c.alpha3().value() }}</td>
                                    </tr>
                                    }
                                </tbody>
                            </table>
                        </div><!-- .wrapper -->
                    </form>
                </div><!-- .wrapper -->
            </mat-dialog-content>
            <mat-dialog-actions>
                <button type="button" id="btn_ok" class="btn btn-ok btn-default" (click)="ok()" matFab extended>
                    <mat-icon color="primary">check_circle</mat-icon><span>Select</span>
                </button>
                <button type="button" id="btn_cancel" class="btn btn-cancel" (click)="cancel()" matFab extended>
                    <mat-icon color="warn">cancel</mat-icon><span>Cancel</span>
                </button>
            </mat-dialog-actions>
        </mat-card-content>
    </mat-card>
</div><!-- .component -->